{"ast":null,"code":"import axiosWithAuth from '../utils/axiosWithAuth';\nimport axios from 'axios';\nexport const REGISTER_START = \"REGISTER_START\";\nexport const REGISTER_SUCCESS = \"REGISTER_SUCCESS\";\nexport const REGISTER_FAILURE = \"REGISTER_FAILURE\";\nexport const LOGIN_START = \"LOGIN_START\";\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\nexport const LOGIN_FAILURE = \"LOGIN_FAILURE\";\nexport const ADD_TODO = \"ADD_TODO\";\nexport const ADD_TODO_SUCCESS = \"ADD_TODO_SUCCESS\";\nexport const ADD_TODO_FAILURE = \"ADD_TODO_FAILURE\";\nexport const TOGGLE_TODO = \"TOGGLE_TODO\";\nexport const FETCH_ADMIN_DATA = \"FETCH_ADMIN_DATA\";\nexport const FETCH_DATA_SUCCESS = \"FETCH_DATA_SUCCESS\";\nexport const FETCH_DATA_FAILURE = \"FETCH_DATA_FAILURE\";\nexport const UPDATE_DATA = \"UPDATE_DATA\";\nexport const SET_ERROR = \"SET_ERROR\";\nexport const login = user => dispatch => {\n  dispatch({\n    type: LOGIN_START\n  });\n  console.log('User:', user);\n  axiosWithAuth().post(`https://cloudschoolbw.herokuapp.com/api/auth/login`, user).then(res => {\n    dispatch({\n      type: LOGIN_SUCCESS,\n      payload: res.data\n    });\n    console.log('login response', res);\n    window.localStorage.setItem('token', res.data.token);\n  }).catch(err => {\n    console.log('login error', err);\n    dispatch({\n      type: LOGIN_FAILURE,\n      payload: err\n    });\n  });\n};\nexport const register = user => dispatch => {\n  dispatch({\n    type: REGISTER_START\n  });\n  axiosWithAuth().post(`/auth/register`, user).then(res => {\n    dispatch({\n      type: REGISTER_SUCCESS,\n      payload: res.data\n    });\n    console.log('register response', res);\n    window.localStorage.setItem('token', res.data.password);\n  }).catch(err => {\n    dispatch({\n      type: REGISTER_FAILURE,\n      payload: err\n    });\n  });\n};\nexport const fetchAdmin = () => dispatch => {\n  dispatch({\n    type: FETCH_ADMIN_DATA\n  });\n  axiosWithAuth().get('https://cloudschoolbw.herokuapp.com/api/student').then(res => {\n    console.log(res);\n    dispatch({\n      type: FETCH_DATA_SUCCESS,\n      payload: res.data\n    });\n  }).catch(err => {\n    dispatch({\n      type: FETCH_DATA_FAILURE,\n      payload: err\n    });\n  });\n};","map":{"version":3,"sources":["/Users/dylancollins/front-end/src/actions/index.js"],"names":["axiosWithAuth","axios","REGISTER_START","REGISTER_SUCCESS","REGISTER_FAILURE","LOGIN_START","LOGIN_SUCCESS","LOGIN_FAILURE","ADD_TODO","ADD_TODO_SUCCESS","ADD_TODO_FAILURE","TOGGLE_TODO","FETCH_ADMIN_DATA","FETCH_DATA_SUCCESS","FETCH_DATA_FAILURE","UPDATE_DATA","SET_ERROR","login","user","dispatch","type","console","log","post","then","res","payload","data","window","localStorage","setItem","token","catch","err","register","password","fetchAdmin","get"],"mappings":"AAAA,OAAOA,aAAP,MAA0B,wBAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,cAAc,GAAG,gBAAvB;AACP,OAAO,MAAMC,gBAAgB,GAAG,kBAAzB;AACP,OAAO,MAAMC,gBAAgB,GAAG,kBAAzB;AACP,OAAO,MAAMC,WAAW,GAAG,aAApB;AACP,OAAO,MAAMC,aAAa,GAAG,eAAtB;AACP,OAAO,MAAMC,aAAa,GAAG,eAAtB;AACP,OAAO,MAAMC,QAAQ,GAAG,UAAjB;AACP,OAAO,MAAMC,gBAAgB,GAAG,kBAAzB;AACP,OAAO,MAAMC,gBAAgB,GAAG,kBAAzB;AACP,OAAO,MAAMC,WAAW,GAAG,aAApB;AACP,OAAO,MAAMC,gBAAgB,GAAG,kBAAzB;AACP,OAAO,MAAMC,kBAAkB,GAAG,oBAA3B;AACP,OAAO,MAAMC,kBAAkB,GAAG,oBAA3B;AACP,OAAO,MAAMC,WAAW,GAAG,aAApB;AACP,OAAO,MAAMC,SAAS,GAAG,WAAlB;AAEP,OAAO,MAAMC,KAAK,GAAGC,IAAI,IAAIC,QAAQ,IAAI;AACrCA,EAAAA,QAAQ,CAAC;AAACC,IAAAA,IAAI,EAAEf;AAAP,GAAD,CAAR;AACAgB,EAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBJ,IAArB;AACAlB,EAAAA,aAAa,GACRuB,IADL,CACW,oDADX,EACgEL,IADhE,EAEKM,IAFL,CAEUC,GAAG,IAAI;AACTN,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEd,aAAR;AAAuBoB,MAAAA,OAAO,EAAED,GAAG,CAACE;AAApC,KAAD,CAAR;AACAN,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BG,GAA9B;AACAG,IAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,EAAqCL,GAAG,CAACE,IAAJ,CAASI,KAA9C;AACH,GANL,EAOKC,KAPL,CAOWC,GAAG,IAAI;AACVZ,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BW,GAA3B;AACAd,IAAAA,QAAQ,CAAC;AAACC,MAAAA,IAAI,EAAEb,aAAP;AAAsBmB,MAAAA,OAAO,EAAEO;AAA/B,KAAD,CAAR;AACH,GAVL;AAWH,CAdM;AAgBP,OAAO,MAAMC,QAAQ,GAAGhB,IAAI,IAAIC,QAAQ,IAAI;AACxCA,EAAAA,QAAQ,CAAC;AAACC,IAAAA,IAAI,EAAElB;AAAP,GAAD,CAAR;AACAF,EAAAA,aAAa,GACRuB,IADL,CACW,gBADX,EAC4BL,IAD5B,EAEKM,IAFL,CAEUC,GAAG,IAAI;AACTN,IAAAA,QAAQ,CAAC;AAACC,MAAAA,IAAI,EAAEjB,gBAAP;AAAyBuB,MAAAA,OAAO,EAAED,GAAG,CAACE;AAAtC,KAAD,CAAR;AACAN,IAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCG,GAAjC;AACAG,IAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,EAAqCL,GAAG,CAACE,IAAJ,CAASQ,QAA9C;AACH,GANL,EAOKH,KAPL,CAOWC,GAAG,IAAI;AACVd,IAAAA,QAAQ,CAAC;AAACC,MAAAA,IAAI,EAAEhB,gBAAP;AAAyBsB,MAAAA,OAAO,EAAEO;AAAlC,KAAD,CAAR;AACH,GATL;AAUH,CAZM;AAcP,OAAO,MAAMG,UAAU,GAAG,MAAMjB,QAAQ,IAAI;AACxCA,EAAAA,QAAQ,CAAC;AAACC,IAAAA,IAAI,EAAER;AAAP,GAAD,CAAR;AACAZ,EAAAA,aAAa,GACRqC,GADL,CACS,iDADT,EAEKb,IAFL,CAEUC,GAAG,IAAI;AACTJ,IAAAA,OAAO,CAACC,GAAR,CAAYG,GAAZ;AACAN,IAAAA,QAAQ,CAAC;AAACC,MAAAA,IAAI,EAAEP,kBAAP;AAA2Ba,MAAAA,OAAO,EAAED,GAAG,CAACE;AAAxC,KAAD,CAAR;AACH,GALL,EAMKK,KANL,CAMWC,GAAG,IAAI;AACVd,IAAAA,QAAQ,CAAC;AAACC,MAAAA,IAAI,EAAEN,kBAAP;AAA2BY,MAAAA,OAAO,EAAEO;AAApC,KAAD,CAAR;AACH,GARL;AASH,CAXM","sourcesContent":["import axiosWithAuth from '../utils/axiosWithAuth';\nimport axios from 'axios';\n\nexport const REGISTER_START = \"REGISTER_START\";\nexport const REGISTER_SUCCESS = \"REGISTER_SUCCESS\";\nexport const REGISTER_FAILURE = \"REGISTER_FAILURE\";\nexport const LOGIN_START = \"LOGIN_START\";\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\nexport const LOGIN_FAILURE = \"LOGIN_FAILURE\";\nexport const ADD_TODO = \"ADD_TODO\";\nexport const ADD_TODO_SUCCESS = \"ADD_TODO_SUCCESS\";\nexport const ADD_TODO_FAILURE = \"ADD_TODO_FAILURE\";\nexport const TOGGLE_TODO = \"TOGGLE_TODO\";\nexport const FETCH_ADMIN_DATA = \"FETCH_ADMIN_DATA\";\nexport const FETCH_DATA_SUCCESS = \"FETCH_DATA_SUCCESS\";\nexport const FETCH_DATA_FAILURE = \"FETCH_DATA_FAILURE\";\nexport const UPDATE_DATA = \"UPDATE_DATA\";\nexport const SET_ERROR = \"SET_ERROR\";\n\nexport const login = user => dispatch => {\n    dispatch({type: LOGIN_START})\n    console.log('User:', user)\n    axiosWithAuth()\n        .post(`https://cloudschoolbw.herokuapp.com/api/auth/login`, user)\n        .then(res => {\n            dispatch({ type: LOGIN_SUCCESS, payload: res.data })\n            console.log('login response', res);\n            window.localStorage.setItem('token', res.data.token)\n        })\n        .catch(err => {\n            console.log('login error', err)\n            dispatch({type: LOGIN_FAILURE, payload: err})\n        });\n}\n\nexport const register = user => dispatch => {\n    dispatch({type: REGISTER_START})\n    axiosWithAuth()\n        .post(`/auth/register`, user)\n        .then(res => {\n            dispatch({type: REGISTER_SUCCESS, payload: res.data})\n            console.log('register response', res)\n            window.localStorage.setItem('token', res.data.password)\n        })\n        .catch(err => {\n            dispatch({type: REGISTER_FAILURE, payload: err})\n        })\n}\n\nexport const fetchAdmin = () => dispatch => {\n    dispatch({type: FETCH_ADMIN_DATA})\n    axiosWithAuth()\n        .get('https://cloudschoolbw.herokuapp.com/api/student')\n        .then(res => {\n            console.log(res)\n            dispatch({type: FETCH_DATA_SUCCESS, payload: res.data})\n        })\n        .catch(err => {\n            dispatch({type: FETCH_DATA_FAILURE, payload: err})\n        })\n}"]},"metadata":{},"sourceType":"module"}