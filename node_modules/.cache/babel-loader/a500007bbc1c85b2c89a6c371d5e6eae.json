{"ast":null,"code":"import axiosWithAuth from '../utils/axiosWithAuth';\nimport React from 'react';\nimport axios from 'axios';\nexport const REGISTER_START = \"REGISTER_START\";\nexport const REGISTER_SUCCESS = \"REGISTER_SUCCESS\";\nexport const REGISTER_FAILURE = \"REGISTER_FAILURE\";\nexport const LOGIN_START = \"LOGIN_START\";\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\nexport const LOGIN_FAILURE = \"LOGIN_FAILURE\";\nexport const ADD_TODO = \"ADD_TODO\";\nexport const ADD_TODO_SUCCESS = \"ADD_TODO_SUCCESS\";\nexport const ADD_TODO_FAILURE = \"ADD_TODO_FAILURE\";\nexport const TOGGLE_TODO = \"TOGGLE_TODO\";\nexport const FETCH_ADMIN_DATA = \"FETCH_ADMIN_DATA\";\nexport const FETCH_ADMIN_DATA_SUCCESS = \"FETCH_DATA_SUCCESS\";\nexport const FETCH_ADMIN_DATA_FAILURE = \"FETCH_DATA_FAILURE\";\nexport const FETCH_STUDENT_DATA = \"FETCH_ADMIN_DATA\";\nexport const FETCH_STUDENT_DATA_SUCCESS = \"FETCH_DATA_SUCCESS\";\nexport const FETCH_STUDENT_DATA_FAILURE = \"FETCH_DATA_FAILURE\";\nexport const FETCH_VOLUNTEER_DATA = \"FETCH_ADMIN_DATA\";\nexport const FETCH_VOLUNTEER_DATA_SUCCESS = \"FETCH_DATA_SUCCESS\";\nexport const FETCH_VOLUNTEER_DATA_FAILURE = \"FETCH_DATA_FAILURE\";\nexport const UPDATE_DATA = \"UPDATE_DATA\";\nexport const SET_USER = \"SET_USER\";\nexport const login = user => dispatch => {\n  dispatch({\n    type: LOGIN_START\n  });\n  console.log('User:', user);\n  axios.post(`https://cloudschoolbw.herokuapp.com/api/auth/login`, user).then(res => {\n    dispatch({\n      type: LOGIN_SUCCESS,\n      payload: res.data\n    });\n    dispatch({\n      type: SET_USER,\n      payload: user\n    });\n    console.log('login response', res);\n    localStorage.setItem('token', res.data.token);\n    localStorage.setItem('user_id', res.data.user_id);\n    localStorage.setItem('user_role', res.data.user_role);\n  }).catch(err => {\n    console.log('login error', err);\n    dispatch({\n      type: LOGIN_FAILURE,\n      payload: err\n    });\n  }).finally(() => {\n    window.location = `/${localStorage.getItem('user_role')}`;\n  });\n};\nexport const register = user => dispatch => {\n  console.log(user);\n  dispatch({\n    type: REGISTER_START\n  });\n  axios.post(`https://cloudschoolbw.herokuapp.com/api/auth/register`, user).then(res => {\n    dispatch({\n      type: REGISTER_SUCCESS,\n      payload: res.data\n    });\n    console.log('register response', res); // login({username: user.username, password: user.password});            \n  }).catch(err => {\n    dispatch({\n      type: REGISTER_FAILURE,\n      payload: err\n    });\n  });\n};\nexport const fetchAdmin = () => dispatch => {\n  dispatch({\n    type: FETCH_ADMIN_DATA\n  });\n  axiosWithAuth().get('/admin').then(res => {\n    console.log(res);\n    dispatch({\n      type: FETCH_ADMIN_DATA_SUCCESS,\n      payload: res.data\n    });\n  }).catch(err => {\n    dispatch({\n      type: FETCH_ADMIN_DATA_FAILURE,\n      payload: err\n    });\n  });\n};\nexport const fetchStudent = () => dispatch => {\n  dispatch({\n    type: FETCH_STUDENT_DATA\n  });\n  axiosWithAuth().get('/student').then(res => {\n    console.log(res);\n    dispatch({\n      type: FETCH_STUDENT_DATA_SUCCESS,\n      payload: res.data\n    });\n  }).catch(err => {\n    dispatch({\n      type: FETCH_STUDENT_DATA_FAILURE,\n      payload: err\n    });\n  });\n};\nexport const fetchVolunteer = () => dispatch => {\n  dispatch({\n    type: FETCH_VOLUNTEER_DATA\n  });\n  axiosWithAuth().get('/volunteer').then(res => {\n    console.log(res);\n    dispatch({\n      type: FETCH_VOLUNTEER_DATA_SUCCESS,\n      payload: res.data\n    });\n  }).catch(err => {\n    dispatch({\n      type: FETCH_VOLUNTEER_DATA_FAILURE,\n      payload: err\n    });\n  });\n};\nexport const initializeState = () => dispatch => {\n  dispatch();\n};","map":{"version":3,"sources":["/Users/dylancollins/front-end/src/actions/index.js"],"names":["axiosWithAuth","React","axios","REGISTER_START","REGISTER_SUCCESS","REGISTER_FAILURE","LOGIN_START","LOGIN_SUCCESS","LOGIN_FAILURE","ADD_TODO","ADD_TODO_SUCCESS","ADD_TODO_FAILURE","TOGGLE_TODO","FETCH_ADMIN_DATA","FETCH_ADMIN_DATA_SUCCESS","FETCH_ADMIN_DATA_FAILURE","FETCH_STUDENT_DATA","FETCH_STUDENT_DATA_SUCCESS","FETCH_STUDENT_DATA_FAILURE","FETCH_VOLUNTEER_DATA","FETCH_VOLUNTEER_DATA_SUCCESS","FETCH_VOLUNTEER_DATA_FAILURE","UPDATE_DATA","SET_USER","login","user","dispatch","type","console","log","post","then","res","payload","data","localStorage","setItem","token","user_id","user_role","catch","err","finally","window","location","getItem","register","fetchAdmin","get","fetchStudent","fetchVolunteer","initializeState"],"mappings":"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","sourcesContent":["import axiosWithAuth from '../utils/axiosWithAuth';\nimport React from 'react';\nimport axios from 'axios';\n\nexport const REGISTER_START = \"REGISTER_START\";\nexport const REGISTER_SUCCESS = \"REGISTER_SUCCESS\";\nexport const REGISTER_FAILURE = \"REGISTER_FAILURE\";\nexport const LOGIN_START = \"LOGIN_START\";\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\nexport const LOGIN_FAILURE = \"LOGIN_FAILURE\";\nexport const ADD_TODO = \"ADD_TODO\";\nexport const ADD_TODO_SUCCESS = \"ADD_TODO_SUCCESS\";\nexport const ADD_TODO_FAILURE = \"ADD_TODO_FAILURE\";\nexport const TOGGLE_TODO = \"TOGGLE_TODO\";\nexport const FETCH_ADMIN_DATA = \"FETCH_ADMIN_DATA\";\nexport const FETCH_ADMIN_DATA_SUCCESS = \"FETCH_DATA_SUCCESS\";\nexport const FETCH_ADMIN_DATA_FAILURE = \"FETCH_DATA_FAILURE\";\nexport const FETCH_STUDENT_DATA = \"FETCH_ADMIN_DATA\";\nexport const FETCH_STUDENT_DATA_SUCCESS = \"FETCH_DATA_SUCCESS\";\nexport const FETCH_STUDENT_DATA_FAILURE = \"FETCH_DATA_FAILURE\";\nexport const FETCH_VOLUNTEER_DATA = \"FETCH_ADMIN_DATA\";\nexport const FETCH_VOLUNTEER_DATA_SUCCESS = \"FETCH_DATA_SUCCESS\";\nexport const FETCH_VOLUNTEER_DATA_FAILURE = \"FETCH_DATA_FAILURE\";\nexport const UPDATE_DATA = \"UPDATE_DATA\";\nexport const SET_USER = \"SET_USER\"\n\nexport const login = user => dispatch => {\n    dispatch({type: LOGIN_START})\n    console.log('User:', user)\n    axios\n        .post(`https://cloudschoolbw.herokuapp.com/api/auth/login`, user)\n        .then(res => {\n            dispatch({ type: LOGIN_SUCCESS, payload: res.data })\n            dispatch({ type: SET_USER, payload: user})\n            console.log('login response', res);\n            localStorage.setItem('token', res.data.token)\n            localStorage.setItem('user_id', res.data.user_id)\n            localStorage.setItem('user_role', res.data.user_role)            \n        })\n        .catch(err => {\n            console.log('login error', err)\n            dispatch({type: LOGIN_FAILURE, payload: err})\n        })\n        .finally(() => {\n            window.location = `/${localStorage.getItem('user_role')}`\n        });\n}\n\nexport const register = user => dispatch => {\n    console.log(user);\n    dispatch({type: REGISTER_START})\n    axios\n        .post(`https://cloudschoolbw.herokuapp.com/api/auth/register`, user)\n        .then(res => {\n            dispatch({type: REGISTER_SUCCESS, payload: res.data})\n            console.log('register response', res)\n            // login({username: user.username, password: user.password});            \n        })\n        .catch(err => {\n            dispatch({type: REGISTER_FAILURE, payload: err})\n        })\n}\n\nexport const fetchAdmin = () => dispatch => {\n    dispatch({type: FETCH_ADMIN_DATA})\n    axiosWithAuth()\n        .get('/admin')\n        .then(res => {\n            console.log(res)\n            dispatch({type: FETCH_ADMIN_DATA_SUCCESS, payload: res.data})\n        })\n        .catch(err => {\n            dispatch({type: FETCH_ADMIN_DATA_FAILURE, payload: err})\n        })\n}\n\nexport const fetchStudent = () => dispatch => {\n    dispatch({type: FETCH_STUDENT_DATA})\n    axiosWithAuth()\n        .get('/student')\n        .then(res => {\n            console.log(res)\n            dispatch({type: FETCH_STUDENT_DATA_SUCCESS, payload: res.data})\n        })\n        .catch(err => {\n            dispatch({type: FETCH_STUDENT_DATA_FAILURE, payload: err})\n        })\n}\n\nexport const fetchVolunteer = () => dispatch => {\n    dispatch({type: FETCH_VOLUNTEER_DATA})\n    axiosWithAuth()\n        .get('/volunteer')\n        .then(res => {\n            console.log(res)\n            dispatch({type: FETCH_VOLUNTEER_DATA_SUCCESS, payload: res.data})\n        })\n        .catch(err => {\n            dispatch({type: FETCH_VOLUNTEER_DATA_FAILURE, payload: err})\n        })\n}\n\nexport const initializeState = () => dispatch => {\n    dispatch()\n}"]},"metadata":{},"sourceType":"module"}